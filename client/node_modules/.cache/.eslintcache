[{"/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/index.tsx":"1","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/store/store.ts":"2","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/App.tsx":"3","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/services/AuthService.ts":"4","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/components/LoginForm.tsx":"5","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/http/index.ts":"6","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/services/UserService.ts":"7"},{"size":389,"mtime":1624829437861,"results":"8","hashOfConfig":"9"},{"size":2245,"mtime":1624831858847,"results":"10","hashOfConfig":"9"},{"size":1312,"mtime":1624840485444,"results":"11","hashOfConfig":"9"},{"size":608,"mtime":1624831887000,"results":"12","hashOfConfig":"9"},{"size":1088,"mtime":1624840542656,"results":"13","hashOfConfig":"9"},{"size":358,"mtime":1624831956681,"results":"14","hashOfConfig":"9"},{"size":313,"mtime":1624831892780,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"mzi44g",{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/index.tsx",[],["33","34"],"/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/store/store.ts",["35"],"import {IUser} from \"../models/IUser\";\nimport {makeAutoObservable} from \"mobx\";\nimport AuthService from \"../services/AuthService\";\nimport axios from 'axios';\nimport {AuthResponse} from \"../models/response/AuthResponse\";\nimport {API_URL} from \"../http\";\n\nexport default class Store {\n    user = {} as IUser;\n    isAuth = false;\n    isLoading = false;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    setAuth(bool: boolean) {\n        this.isAuth = bool;\n    }\n\n    setUser(user: IUser) {\n        this.user = user;\n    }\n\n    setLoading(bool: boolean) {\n        this.isLoading = bool;\n    }\n\n    async login(email: string, password: string) {\n        try {\n            const response = await AuthService.login(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async registration(email: string, password: string) {\n        try {\n            const response = await AuthService.registration(email, password);\n            console.log(response)\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async logout() {\n        try {\n            const response = await AuthService.logout();\n            localStorage.removeItem('token');\n            this.setAuth(false);\n            this.setUser({} as IUser);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        }\n    }\n\n    async checkAuth() {\n        this.setLoading(true);\n        try {\n            const response = await axios.get<AuthResponse>(`${API_URL}/refresh`, {withCredentials: true})\n            console.log(response);\n            localStorage.setItem('token', response.data.accessToken);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            console.log(e.response?.data?.message);\n        } finally {\n            this.setLoading(false);\n        }\n    }\n}\n","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/App.tsx",["36"],"/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/services/AuthService.ts",[],"/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/components/LoginForm.tsx",[],"/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/http/index.ts",["37"],"import axios from 'axios';\nimport { config } from 'process';\n\nexport const API_URL = `http://localhost:5000/api`\n\nconst $api = axios.create({\n    withCredentials: true,\n    baseURL: API_URL\n})\n\n$api.interceptors.request.use((config) => {\n    config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\n    return config;\n})\n\nexport default $api;","/Users/denis/Documents/JWT-authorization-React-Node-js./client/src/services/UserService.ts",["38"],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":55,"column":19,"nodeType":"45","messageId":"46","endLine":55,"endColumn":27},{"ruleId":"47","severity":1,"message":"48","line":16,"column":6,"nodeType":"49","endLine":16,"endColumn":8,"suggestions":"50"},{"ruleId":"43","severity":1,"message":"51","line":2,"column":10,"nodeType":"45","messageId":"46","endLine":2,"endColumn":16},{"ruleId":"43","severity":1,"message":"52","line":3,"column":9,"nodeType":"45","messageId":"46","endLine":3,"endColumn":21},"no-native-reassign",["53"],"no-negated-in-lhs",["54"],"@typescript-eslint/no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'store'. Either include it or remove the dependency array.","ArrayExpression",["55"],"'config' is defined but never used.","'AuthResponse' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"56","fix":"57"},"Update the dependencies array to be: [store]",{"range":"58","text":"59"},[497,499],"[store]"]